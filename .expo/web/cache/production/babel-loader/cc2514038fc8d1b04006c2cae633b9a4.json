{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import TextInput from\"react-native-web/dist/exports/TextInput\";import ImageBackground from\"react-native-web/dist/exports/ImageBackground\";import Button from\"react-native-web/dist/exports/Button\";import KeyboardAvoidingView from\"react-native-web/dist/exports/KeyboardAvoidingView\";import Platform from\"react-native-web/dist/exports/Platform\";import AppStyles from\"../styles/AppStyles\";import InlineTextButton from\"../components/InlineTextButton\";import React from'react';import{auth}from\"../firebase\";import{signInWithEmailAndPassword,onAuthStateChanged}from\"firebase/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(_ref){var navigation=_ref.navigation;var background=require(\"../assets/background.jpg\");if(auth.currentUser){navigation.navigate(\"ToDo\");}else{onAuthStateChanged(auth,function(user){if(user){navigation.navigate(\"ToDo\");}});}var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),errorMessage=_React$useState2[0],setErrorMessage=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),email=_React$useState4[0],setEmail=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),password=_React$useState6[0],setPassword=_React$useState6[1];var login=function login(){if(email!==\"\"&&password!==\"\"){signInWithEmailAndPassword(auth,email,password).then(function(userCredential){navigation.navigate(\"ToDo\",{user:userCredential.user});setErrorMessage(\"\");setEmail(\"\");setPassword(\"\");}).catch(function(error){setErrorMessage(error.message);});}else{setErrorMessage(\"Please enter an email and password\");}};return _jsx(ImageBackground,{style:AppStyles.imageContainer,source:background,children:_jsxs(KeyboardAvoidingView,{style:AppStyles.backgroundCover,behavior:Platform.OS===\"ios\"?\"padding\":null,keyboardVerticalOffset:60,children:[_jsx(Text,{style:[AppStyles.lightText,AppStyles.header],children:\"Login\"}),_jsx(Text,{style:AppStyles.errorText,children:errorMessage}),_jsx(TextInput,{style:[AppStyles.textInput,AppStyles.lightTextInput,AppStyles.lightText],placeholder:\"Email\",placeholderTextColor:\"#BEBEBE\",value:email,onChangeText:setEmail}),_jsx(TextInput,{style:[AppStyles.textInput,AppStyles.lightTextInput,AppStyles.lightText],placeholder:\"Password\",placeholderTextColor:\"#BEBEBE\",secureTextEntry:true,value:password,onChangeText:setPassword}),_jsxs(View,{style:[AppStyles.rowContainer,AppStyles.topMargin],children:[_jsx(Text,{style:AppStyles.lightText,children:\"Don't have an account? \"}),_jsx(InlineTextButton,{text:\"Sign Up\",onPress:function onPress(){return navigation.navigate(\"SignUp\");}})]}),_jsxs(View,{style:[AppStyles.rowContainer,AppStyles.bottomMargin],children:[_jsx(Text,{style:AppStyles.lightText,children:\"Forgotten your password? \"}),_jsx(InlineTextButton,{text:\"Reset\",onPress:function onPress(){return navigation.navigate(\"ResetPassword\");}})]}),_jsx(Button,{title:\"Login\",onPress:login,color:\"#f7b267\"})]})});}","map":{"version":3,"names":["AppStyles","InlineTextButton","React","auth","signInWithEmailAndPassword","onAuthStateChanged","Login","navigation","background","require","currentUser","navigate","user","useState","errorMessage","setErrorMessage","email","setEmail","password","setPassword","login","then","userCredential","catch","error","message","imageContainer","backgroundCover","Platform","OS","lightText","header","errorText","textInput","lightTextInput","rowContainer","topMargin","bottomMargin"],"sources":["/Users/tmetsasi/Desktop/Projects/PartyGame/party-game-app/screens/Login.js"],"sourcesContent":["import { Text, View, TextInput, ImageBackground, Button, KeyboardAvoidingView, Platform } from 'react-native';\nimport AppStyles from '../styles/AppStyles';\nimport InlineTextButton from '../components/InlineTextButton';\nimport React from 'react';\nimport { auth } from \"../firebase\";\nimport { signInWithEmailAndPassword, onAuthStateChanged } from \"firebase/auth\";\n\nexport default function Login({ navigation }) {\n  const background = require(\"../assets/background.jpg\");\n\n  if (auth.currentUser) {\n    navigation.navigate(\"ToDo\");\n  } else {\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        navigation.navigate(\"ToDo\");\n      }\n    });\n  }\n\n  let [errorMessage, setErrorMessage] = React.useState(\"\");\n  let [email, setEmail] = React.useState(\"\");\n  let [password, setPassword] = React.useState(\"\");\n\n  let login = () => {\n    if (email !== \"\" && password !== \"\") {\n      signInWithEmailAndPassword(auth, email, password)\n        .then((userCredential) => {\n          navigation.navigate(\"ToDo\", { user: userCredential.user });\n          setErrorMessage(\"\");\n          setEmail(\"\");\n          setPassword(\"\");\n        })\n        .catch((error) => {\n          setErrorMessage(error.message)\n        });\n    } else {\n      setErrorMessage(\"Please enter an email and password\");\n    }\n  }\n\n  return (\n    <ImageBackground style={AppStyles.imageContainer} source={background}>\n      <KeyboardAvoidingView \n        style={AppStyles.backgroundCover} \n        behavior={Platform.OS === \"ios\" ? \"padding\" : null}\n        keyboardVerticalOffset={60}>\n        <Text style={[AppStyles.lightText, AppStyles.header]}>Login</Text>\n        <Text style={AppStyles.errorText}>{errorMessage}</Text>\n        <TextInput \n          style={[AppStyles.textInput, AppStyles.lightTextInput, AppStyles.lightText]} \n          placeholder='Email' \n          placeholderTextColor=\"#BEBEBE\"\n          value={email}\n          onChangeText={setEmail} />\n        <TextInput \n          style={[AppStyles.textInput, AppStyles.lightTextInput, AppStyles.lightText]} \n          placeholder='Password' \n          placeholderTextColor=\"#BEBEBE\" \n          secureTextEntry={true} \n          value={password} \n          onChangeText={setPassword} />\n        <View style={[AppStyles.rowContainer, AppStyles.topMargin]}>\n          <Text style={AppStyles.lightText}>Don't have an account? </Text>\n          <InlineTextButton text=\"Sign Up\" onPress={() => navigation.navigate(\"SignUp\")} />\n        </View>\n        <View style={[AppStyles.rowContainer, AppStyles.bottomMargin]}>\n          <Text style={AppStyles.lightText}>Forgotten your password? </Text>\n          <InlineTextButton text=\"Reset\" onPress={() => navigation.navigate(\"ResetPassword\")} />\n        </View>\n        <Button title=\"Login\" onPress={login} color=\"#f7b267\" />\n      </KeyboardAvoidingView>\n    </ImageBackground>\n  );\n}\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}