(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{139:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));var r=n(11),o=n.n(r),a=n(25),c=n(6),s=n(38),i=n(61),l=n(34),u=n(62),d=n(16),f=n(9).default.create({imageContainer:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:16},noPadding:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",backgroundColor:"red"},rowContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",alignSelf:"stretch",marginVertical:4},fillSpace:{flex:1},rightAligned:{justifyContent:"flex-end"},topMargin:{marginTop:16},bottomMargin:{marginBottom:16},rightMargin:{marginRight:16},leftMargin:{marginLeft:16},backgroundCover:{alignSelf:"stretch",alignItems:"center",justifyContent:"center",backgroundColor:"#000000",opacity:.7,padding:16},lightText:{color:"#fff"},errorText:{color:"#ff0000"},header:{fontSize:20,alignSelf:"center"},textInput:{alignSelf:"stretch",padding:8,borderBottomWidth:2,marginVertical:8},lightTextInput:{borderBottomColor:"#ffffff"},darkTextInput:{borderBottomColor:"#000000"},inlineTextButton:{color:"#87F1FF"},pressedInlineTextButton:{color:"#87F1FF",opacity:.6}}),j=n(86),h=n(4);function x(e){var t={};return e.color&&(t.color=e.color),Object(h.jsx)(j.default,{onPress:e.onPress,children:function(n){var r=n.pressed;return Object(h.jsx)(a.default,{style:[r?f.pressedInlineTextButton:f.inlineTextButton,t],children:e.text})}})}var g=n(0),b=n.n(g),p=n(117),O=n(33),T=n(31),m=(Object(p.initializeApp)({apiKey:"AIzaSyBfldfjNJNmhMJBg7jrvTpknatYkJJakf4",authDomain:"party-game-app-f1835.firebaseapp.com",projectId:"party-game-app-f1835",storageBucket:"party-game-app-f1835.appspot.com",messagingSenderId:"363758306995",appId:"1:363758306995:web:d4f744cd583879221292c6",measurementId:"G-CD2Z3B9MQ3"}),Object(O.getAuth)()),y=Object(T.getFirestore)();function v(e){var t=e.navigation,r=n(94);m.currentUser?t.navigate("ToDo"):Object(O.onAuthStateChanged)(m,(function(e){e&&t.navigate("ToDo")}));var j=b.a.useState(""),g=o()(j,2),p=g[0],T=g[1],y=b.a.useState(""),v=o()(y,2),C=v[0],S=v[1],w=b.a.useState(""),I=o()(w,2),P=I[0],E=I[1];return Object(h.jsx)(i.default,{style:f.imageContainer,source:r,children:Object(h.jsxs)(u.default,{style:f.backgroundCover,behavior:"ios"===d.default.OS?"padding":null,keyboardVerticalOffset:60,children:[Object(h.jsx)(a.default,{style:[f.lightText,f.header],children:"Login"}),Object(h.jsx)(a.default,{style:f.errorText,children:p}),Object(h.jsx)(s.default,{style:[f.textInput,f.lightTextInput,f.lightText],placeholder:"Email",placeholderTextColor:"#BEBEBE",value:C,onChangeText:S}),Object(h.jsx)(s.default,{style:[f.textInput,f.lightTextInput,f.lightText],placeholder:"Password",placeholderTextColor:"#BEBEBE",secureTextEntry:!0,value:P,onChangeText:E}),Object(h.jsxs)(c.default,{style:[f.rowContainer,f.topMargin],children:[Object(h.jsx)(a.default,{style:f.lightText,children:"Don't have an account? "}),Object(h.jsx)(x,{text:"Sign Up",onPress:function(){return t.navigate("SignUp")}})]}),Object(h.jsxs)(c.default,{style:[f.rowContainer,f.bottomMargin],children:[Object(h.jsx)(a.default,{style:f.lightText,children:"Forgotten your password? "}),Object(h.jsx)(x,{text:"Reset",onPress:function(){return t.navigate("ResetPassword")}})]}),Object(h.jsx)(l.default,{title:"Login",onPress:function(){""!==C&&""!==P?Object(O.signInWithEmailAndPassword)(m,C,P).then((function(e){t.navigate("ToDo",{user:e.user}),T(""),S(""),E("")})).catch((function(e){T(e.message)})):T("Please enter an email and password")},color:"#f7b267"})]})})}function C(e){var t=e.navigation,r=n(94),j=b.a.useState(""),g=o()(j,2),p=g[0],T=g[1],y=b.a.useState(""),v=o()(y,2),C=v[0],S=v[1],w=b.a.useState(""),I=o()(w,2),P=I[0],E=I[1],B=b.a.useState(""),k=o()(B,2),D=k[0],M=k[1],U=function(e,t,n){M(e!==t?"Passwords do not match.":""),n(e)};return Object(h.jsx)(i.default,{style:f.imageContainer,source:r,children:Object(h.jsxs)(u.default,{style:f.backgroundCover,behavior:"ios"===d.default.OS?"padding":null,keyboardVerticalOffset:60,children:[Object(h.jsx)(a.default,{style:[f.lightText,f.header],children:"Sign Up"}),Object(h.jsx)(a.default,{style:[f.errorText],children:D}),Object(h.jsx)(s.default,{style:[f.textInput,f.lightTextInput,f.lightText],placeholder:"Email",placeholderTextColor:"#BEBEBE",value:p,onChangeText:T}),Object(h.jsx)(s.default,{style:[f.textInput,f.lightTextInput,f.lightText],placeholder:"Password",placeholderTextColor:"#BEBEBE",secureTextEntry:!0,value:C,onChangeText:function(e){return U(e,P,S)}}),Object(h.jsx)(s.default,{style:[f.textInput,f.lightTextInput,f.lightText],placeholder:"Confirm Password",placeholderTextColor:"#BEBEBE",secureTextEntry:!0,value:P,onChangeText:function(e){return U(e,C,E)}}),Object(h.jsxs)(c.default,{style:[f.rowContainer,f.topMargin],children:[Object(h.jsx)(a.default,{style:f.lightText,children:"Already have an account? "}),Object(h.jsx)(x,{text:"Login",onPress:function(){return t.popToTop()}})]}),Object(h.jsx)(l.default,{title:"Sign Up",onPress:function(){C===P&&Object(O.createUserWithEmailAndPassword)(m,p,C).then((function(e){Object(O.sendEmailVerification)(m.currentUser),t.navigate("ToDo",{user:e.user})})).catch((function(e){M(e.message)}))},color:"#f7b267"})]})})}function S(e){var t=e.navigation,r=n(94),j=b.a.useState(""),g=o()(j,2),p=g[0],T=g[1],y=b.a.useState(""),v=o()(y,2),C=v[0],S=v[1];return Object(h.jsx)(i.default,{style:f.imageContainer,source:r,children:Object(h.jsxs)(u.default,{style:f.backgroundCover,behavior:"ios"===d.default.OS?"padding":null,keyboardVerticalOffset:60,children:[Object(h.jsx)(a.default,{style:[f.lightText,f.header],children:"Reset Password"}),Object(h.jsx)(a.default,{style:f.errorText,children:C}),Object(h.jsx)(s.default,{style:[f.textInput,f.lightTextInput,f.lightText],placeholder:"Email",placeholderTextColor:"#BEBEBE",value:p,onChangeText:T}),Object(h.jsxs)(c.default,{style:[f.rowContainer,f.topMargin],children:[Object(h.jsx)(a.default,{style:f.lightText,children:"Don't have an account? "}),Object(h.jsx)(x,{text:"Sign Up",onPress:function(){return t.navigate("SignUp")}})]}),Object(h.jsx)(l.default,{title:"Reset Password",onPress:function(){Object(O.sendPasswordResetEmail)(m,p).then((function(){t.popToTop()})).catch((function(e){S(e.message)}))},color:"#f7b267"})]})})}var w=n(21),I=n.n(w),P=n(52),E=n.n(P),B=n(141),k=n(125),D=n(124),M=n(88);function U(e){var t=b.a.useState(""),n=o()(t,2),r=n[0],i=n[1];return Object(h.jsxs)(c.default,{style:f.container,children:[Object(h.jsx)(a.default,{style:f.header,children:"Add ToDo"}),Object(h.jsx)(s.default,{style:[f.textInput,f.darkTextInput],placeholder:"ToDo",value:r,onChangeText:i}),Object(h.jsxs)(c.default,{style:[f.rowContainer,f.rightAligned,f.rightMargin],children:[Object(h.jsx)(l.default,{title:"Cancel",onPress:e.onClose}),Object(h.jsx)(l.default,{title:"OK",onPress:function(){e.addToDo(r),i(""),e.onClose()}})]})]})}var A=n(142);function F(e){var t=e.navigation,n=b.a.useState(!1),r=o()(n,2),s=r[0],i=r[1],u=b.a.useState(!0),d=o()(u,2),j=d[0],g=d[1],p=b.a.useState(!1),v=o()(p,2),C=v[0],S=v[1],w=b.a.useState([]),P=o()(w,2),F=P[0],R=P[1],V=function(){var e=E()((function*(){var e=Object(T.query)(Object(T.collection)(y,"todos"),Object(T.where)("userId","==",m.currentUser.uid)),t=yield Object(T.getDocs)(e),n=[];t.forEach((function(e){var t=e.data();t.id=e.id,n.push(t)})),R(n),g(!1),S(!1)}));return function(){return e.apply(this,arguments)}}();j&&V();var J=function(){var e=E()((function*(e){yield Object(T.deleteDoc)(Object(T.doc)(y,"todos",e));var t=I()(F).filter((function(t){return t.id!=e}));R(t)}));return function(t){return e.apply(this,arguments)}}(),L=function(e){var t=e.item;return Object(h.jsxs)(c.default,{style:[f.rowContainer,f.rightMargin,f.leftMargin],children:[Object(h.jsx)(c.default,{style:f.fillSpace,children:Object(h.jsx)(A.default,{isChecked:t.complated,size:25,fillColor:"#258ea6",unfillColor:"#FFFFFF",text:t.text,iconStyle:{borderColor:"#258ea6"},onPress:function(e){!function(e,t){var n=Object(T.doc)(y,"todos",e.id);Object(T.setDoc)(n,{completed:t},{merge:!0})}(t,e)}})}),Object(h.jsx)(x,{text:"Delete",color:"#258ea6",onPress:function(){return J(t.id)}})]})},z=function(){var e=E()((function*(e){var t={text:e,completed:!1,userId:m.currentUser.uid},n=yield Object(T.addDoc)(Object(T.collection)(y,"todos"),t);t.id=n.id;var r=I()(F);r.push(t),R(r)}));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(k.default,{children:[Object(h.jsx)(c.default,{style:[f.rowContainer,f.rightAligned,f.rightMargin,f.topMargin],children:Object(h.jsx)(x,{text:"Manage Account",color:"#258ea6",onPress:function(){return t.navigate("ManageAccount")}})}),Object(h.jsx)(B.default,{animationType:"slide",transparent:!0,visible:s,onRequestClose:function(){return i(!1)},children:Object(h.jsx)(U,{onClose:function(){return i(!1)},addToDo:z})}),Object(h.jsx)(a.default,{style:f.header,children:"ToDo"}),m.currentUser.emailVerified?Object(h.jsxs)(c.default,{children:[j?Object(h.jsx)(D.default,{size:"large"}):Object(h.jsx)(M.default,{data:F,refreshing:C,onRefresh:function(){V(),S(!0)},renderItem:L,keyExtractor:function(e){return e.id}}),Object(h.jsx)(l.default,{title:"Add ToDo",onPress:function(){return i(!0)},color:"#fb4d3d"})]}):Object(h.jsxs)(c.default,{children:[Object(h.jsx)(a.default,{children:"Please verify your email to use ToDo"}),Object(h.jsx)(l.default,{title:"Send Verification Email",onPress:function(){return Object(O.sendEmailVerification)(m.currentUser)}})]})]})}var R=n(193),V=n(192);function J(e){var t=e.navigation,n=b.a.useState(""),r=o()(n,2),i=r[0],u=r[1],d=b.a.useState(""),j=o()(d,2),x=j[0],g=j[1],p=b.a.useState(""),v=o()(p,2),C=v[0],S=v[1];return Object(h.jsxs)(c.default,{style:f.container,children:[Object(h.jsx)(a.default,{style:f.errorText,children:C}),Object(h.jsx)(s.default,{style:[f.textInput,f.darkTextInput],placeholder:"Current Password",value:x,secureTextEntry:!0,onChangeText:g}),Object(h.jsx)(s.default,{style:[f.textInput,f.darkTextInput],placeholder:"New Password",value:i,secureTextEntry:!0,onChangeText:u}),Object(h.jsx)(l.default,{title:"Update Password",onPress:function(){Object(O.signInWithEmailAndPassword)(m,m.currentUser.email,x).then((function(e){var t=e.user;Object(O.updatePassword)(t,i).then((function(){u(""),S(""),g("")})).catch((function(e){S(e.message)}))})).catch((function(e){S(e.message)}))}}),Object(h.jsx)(l.default,{title:"Delete User",onPress:function(){""===x?S("Must enter current password to delete account"):Object(O.signInWithEmailAndPassword)(m,m.currentUser.email,x).then((function(e){var n=e.user,r=Object(T.writeBatch)(y),o=Object(T.query)(Object(T.collection)(y,"todos"),Object(T.where)("userId","==",n.uid));Object(T.getDocs)(o).then((function(e){e.forEach((function(e){r.delete(e.ref)})),r.commit(),Object(O.deleteUser)(n).then((function(){t.popToTop()})).catch((function(e){S(e.message)}))}))})).catch((function(e){S(e.message)}))}}),Object(h.jsx)(l.default,{title:"Logout",onPress:function(){Object(O.signOut)(m).then((function(){t.popToTop()}))}}),Object(h.jsx)(l.default,{title:"Back to ToDos",onPress:function(){return t.pop()}})]})}var L=Object(V.default)();function z(){return Object(h.jsx)(R.default,{children:Object(h.jsxs)(L.Navigator,{children:[Object(h.jsx)(L.Screen,{name:"Login",component:v,options:{headerShown:!1}}),Object(h.jsx)(L.Screen,{name:"SignUp",component:C,options:{headerShown:!1}}),Object(h.jsx)(L.Screen,{name:"ResetPassword",component:S,options:{headerShown:!1}}),Object(h.jsx)(L.Screen,{name:"ManageAccount",component:J,options:{headerShown:!1}}),Object(h.jsx)(L.Screen,{name:"ToDo",component:F,options:{headerShown:!1}})]})})}},147:function(e,t,n){e.exports=n(184)},94:function(e,t,n){e.exports=n.p+"static/media/background.7399f3ff.jpg"}},[[147,1,2]]]);
//# sourceMappingURL=app.1f3f1695.chunk.js.map