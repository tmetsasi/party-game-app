(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{139:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));var a=n(11),r=n.n(a),o=n(25),i=n(6),s=n(38),l=n(61),c=n(34),u=n(62),d=n(16),f=n(9).default.create({imageContainer:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:16},noPadding:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",backgroundColor:"red"},rowContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",alignSelf:"stretch",marginVertical:4},fillSpace:{flex:1},rightAligned:{justifyContent:"flex-end"},topMargin:{marginTop:16},bottomMargin:{marginBottom:16},rightMargin:{marginRight:16},leftMargin:{marginLeft:16},backgroundCover:{alignSelf:"stretch",alignItems:"center",justifyContent:"center",backgroundColor:"#000000",opacity:.7,padding:16},lightText:{color:"#fff"},errorText:{color:"#ff0000"},header:{fontSize:20,alignSelf:"center"},textInput:{alignSelf:"stretch",padding:8,borderBottomWidth:2,marginVertical:8},lightTextInput:{borderBottomColor:"#ffffff"},darkTextInput:{borderBottomColor:"#000000"},inlineTextButton:{color:"#87F1FF"},pressedInlineTextButton:{color:"#87F1FF",opacity:.6}}),j=n(86),h=n(4);function x(e){var t={};return e.color&&(t.color=e.color),Object(h.jsx)(j.default,{onPress:e.onPress,children:function(n){var a=n.pressed;return Object(h.jsx)(o.default,{style:[a?f.pressedInlineTextButton:f.inlineTextButton,t],children:e.text})}})}var g=n(0),b=n.n(g),p=n(117),O=n(33),y=n(31),T=(Object(p.initializeApp)({apiKey:"AIzaSyBfldfjNJNmhMJBg7jrvTpknatYkJJakf4",authDomain:"party-game-app-f1835.firebaseapp.com",projectId:"party-game-app-f1835",storageBucket:"party-game-app-f1835.appspot.com",messagingSenderId:"363758306995",appId:"1:363758306995:web:d4f744cd583879221292c6",measurementId:"G-CD2Z3B9MQ3"}),Object(O.getAuth)()),m=Object(y.getFirestore)();function v(e){var t=e.navigation,a=n(94);T.currentUser?t.navigate("ToDo"):Object(O.onAuthStateChanged)(T,(function(e){e&&t.navigate("ToDo")}));var j=b.a.useState(""),g=r()(j,2),p=g[0],y=g[1],m=b.a.useState(""),v=r()(m,2),C=v[0],S=v[1],I=b.a.useState(""),k=r()(I,2),E=k[0],P=k[1];return Object(h.jsx)(l.default,{style:f.imageContainer,source:a,children:Object(h.jsxs)(u.default,{style:f.backgroundCover,behavior:"ios"===d.default.OS?"padding":null,keyboardVerticalOffset:60,children:[Object(h.jsx)(o.default,{style:[f.lightText,f.header],children:"Tervetuloa pelaamaan!"}),Object(h.jsx)(o.default,{style:f.errorText,children:p}),Object(h.jsx)(s.default,{style:[f.textInput,f.lightTextInput,f.lightText],placeholder:"S\xe4hk\xf6posti",placeholderTextColor:"#BEBEBE",value:C,onChangeText:S}),Object(h.jsx)(s.default,{style:[f.textInput,f.lightTextInput,f.lightText],placeholder:"Salasana",placeholderTextColor:"#BEBEBE",secureTextEntry:!0,value:E,onChangeText:P}),Object(h.jsxs)(i.default,{style:[f.rowContainer,f.topMargin],children:[Object(h.jsx)(o.default,{style:f.lightText,children:"Ei viel\xe4 k\xe4ytt\xe4j\xe4tili\xe4? "}),Object(h.jsx)(x,{text:"Tehd\xe4\xe4n !",onPress:function(){return t.navigate("SignUp")}})]}),Object(h.jsxs)(i.default,{style:[f.rowContainer,f.bottomMargin],children:[Object(h.jsx)(o.default,{style:f.lightText,children:"Unohdin sanasanani? "}),Object(h.jsx)(x,{text:"Korjataan asia",onPress:function(){return t.navigate("ResetPassword")}})]}),Object(h.jsx)(c.default,{title:"Kirjaudu sis\xe4\xe4n",onPress:function(){""!==C&&""!==E?Object(O.signInWithEmailAndPassword)(T,C,E).then((function(e){t.navigate("ToDo",{user:e.user}),y(""),S(""),P("")})).catch((function(e){y(e.message)})):y("Please enter an email and password")},color:"#f7b267"})]})})}function C(e){var t=e.navigation,a=n(94),j=b.a.useState(""),g=r()(j,2),p=g[0],y=g[1],m=b.a.useState(""),v=r()(m,2),C=v[0],S=v[1],I=b.a.useState(""),k=r()(I,2),E=k[0],P=k[1],w=b.a.useState(""),B=r()(w,2),D=B[0],M=B[1],U=function(e,t,n){M(e!==t?"Passwords do not match.":""),n(e)};return Object(h.jsx)(l.default,{style:f.imageContainer,source:a,children:Object(h.jsxs)(u.default,{style:f.backgroundCover,behavior:"ios"===d.default.OS?"padding":null,keyboardVerticalOffset:60,children:[Object(h.jsx)(o.default,{style:[f.lightText,f.header],children:"Luo k\xe4ytt\xe4j\xe4tili"}),Object(h.jsx)(o.default,{style:[f.errorText],children:D}),Object(h.jsx)(s.default,{style:[f.textInput,f.lightTextInput,f.lightText],placeholder:"S\xe4hk\xf6posti",placeholderTextColor:"#BEBEBE",value:p,onChangeText:y}),Object(h.jsx)(s.default,{style:[f.textInput,f.lightTextInput,f.lightText],placeholder:"Salasana",placeholderTextColor:"#BEBEBE",secureTextEntry:!0,value:C,onChangeText:function(e){return U(e,E,S)}}),Object(h.jsx)(s.default,{style:[f.textInput,f.lightTextInput,f.lightText],placeholder:"Vahvista salasana",placeholderTextColor:"#BEBEBE",secureTextEntry:!0,value:E,onChangeText:function(e){return U(e,C,P)}}),Object(h.jsxs)(i.default,{style:[f.rowContainer,f.topMargin],children:[Object(h.jsx)(o.default,{style:f.lightText,children:"Minulla on jo k\xe4ytt\xe4j\xe4tili? "}),Object(h.jsx)(x,{text:"Kirjaudu sis\xe4\xe4n",onPress:function(){return t.popToTop()}})]}),Object(h.jsx)(c.default,{title:"Luo k\xe4ytt\xe4j\xe4tili",onPress:function(){C===E&&Object(O.createUserWithEmailAndPassword)(T,p,C).then((function(e){Object(O.sendEmailVerification)(T.currentUser),t.navigate("ToDo",{user:e.user})})).catch((function(e){M(e.message)}))},color:"#f7b267"})]})})}function S(e){var t=e.navigation,a=n(94),j=b.a.useState(""),g=r()(j,2),p=g[0],y=g[1],m=b.a.useState(""),v=r()(m,2),C=v[0],S=v[1];return Object(h.jsx)(l.default,{style:f.imageContainer,source:a,children:Object(h.jsxs)(u.default,{style:f.backgroundCover,behavior:"ios"===d.default.OS?"padding":null,keyboardVerticalOffset:60,children:[Object(h.jsx)(o.default,{style:[f.lightText,f.header],children:"Nollaa salasana"}),Object(h.jsx)(o.default,{style:f.errorText,children:C}),Object(h.jsx)(s.default,{style:[f.textInput,f.lightTextInput,f.lightText],placeholder:"S\xe4hk\xf6posti",placeholderTextColor:"#BEBEBE",value:p,onChangeText:y}),Object(h.jsxs)(i.default,{style:[f.rowContainer,f.topMargin],children:[Object(h.jsx)(o.default,{style:f.lightText,children:"Ei viel\xe4 k\xe4ytt\xe4j\xe4tili\xe4? "}),Object(h.jsx)(x,{text:" Up",onPress:function(){return t.navigate("SignUp")}})]}),Object(h.jsx)(c.default,{title:"Reset Password",onPress:function(){Object(O.sendPasswordResetEmail)(T,p).then((function(){t.popToTop()})).catch((function(e){S(e.message)}))},color:"#f7b267"})]})})}var I=n(21),k=n.n(I),E=n(52),P=n.n(E),w=n(141),B=n(125),D=n(124),M=n(88);function U(e){var t=b.a.useState(""),n=r()(t,2),a=n[0],l=n[1];return Object(h.jsxs)(i.default,{style:f.container,children:[Object(h.jsx)(o.default,{style:f.header,children:"Add ToDo"}),Object(h.jsx)(s.default,{style:[f.textInput,f.darkTextInput],placeholder:"ToDo",value:a,onChangeText:l}),Object(h.jsxs)(i.default,{style:[f.rowContainer,f.rightAligned,f.rightMargin],children:[Object(h.jsx)(c.default,{title:"Cancel",onPress:e.onClose}),Object(h.jsx)(c.default,{title:"OK",onPress:function(){e.addToDo(a),l(""),e.onClose()}})]})]})}var A=n(142);function F(e){var t=e.navigation,n=b.a.useState(!1),a=r()(n,2),s=a[0],l=a[1],u=b.a.useState(!0),d=r()(u,2),j=d[0],g=d[1],p=b.a.useState(!1),v=r()(p,2),C=v[0],S=v[1],I=b.a.useState([]),E=r()(I,2),F=E[0],V=E[1],K=function(){var e=P()((function*(){var e=Object(y.query)(Object(y.collection)(m,"todos"),Object(y.where)("userId","==",T.currentUser.uid)),t=yield Object(y.getDocs)(e),n=[];t.forEach((function(e){var t=e.data();t.id=e.id,n.push(t)})),V(n),g(!1),S(!1)}));return function(){return e.apply(this,arguments)}}();j&&K();var R=function(){var e=P()((function*(e){yield Object(y.deleteDoc)(Object(y.doc)(m,"todos",e));var t=k()(F).filter((function(t){return t.id!=e}));V(t)}));return function(t){return e.apply(this,arguments)}}(),J=function(e){var t=e.item;return Object(h.jsxs)(i.default,{style:[f.rowContainer,f.rightMargin,f.leftMargin],children:[Object(h.jsx)(i.default,{style:f.fillSpace,children:Object(h.jsx)(A.default,{isChecked:t.complated,size:25,fillColor:"#258ea6",unfillColor:"#FFFFFF",text:t.text,iconStyle:{borderColor:"#258ea6"},onPress:function(e){!function(e,t){var n=Object(y.doc)(m,"todos",e.id);Object(y.setDoc)(n,{completed:t},{merge:!0})}(t,e)}})}),Object(h.jsx)(x,{text:"Delete",color:"#258ea6",onPress:function(){return R(t.id)}})]})},z=function(){var e=P()((function*(e){var t={text:e,completed:!1,userId:T.currentUser.uid},n=yield Object(y.addDoc)(Object(y.collection)(m,"todos"),t);t.id=n.id;var a=k()(F);a.push(t),V(a)}));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(B.default,{children:[Object(h.jsx)(i.default,{style:[f.rowContainer,f.rightAligned,f.rightMargin,f.topMargin],children:Object(h.jsx)(x,{text:"K\xe4ytt\xe4j\xe4tilin hallinta",color:"#258ea6",onPress:function(){return t.navigate("ManageAccount")}})}),Object(h.jsx)(w.default,{animationType:"slide",transparent:!0,visible:s,onRequestClose:function(){return l(!1)},children:Object(h.jsx)(U,{onClose:function(){return l(!1)},addToDo:z})}),Object(h.jsx)(o.default,{style:f.header,children:"ToDo"}),T.currentUser.emailVerified?Object(h.jsxs)(i.default,{children:[j?Object(h.jsx)(D.default,{size:"large"}):Object(h.jsx)(M.default,{data:F,refreshing:C,onRefresh:function(){K(),S(!0)},renderItem:J,keyExtractor:function(e){return e.id}}),Object(h.jsx)(c.default,{title:"Add ToDo",onPress:function(){return l(!0)},color:"#fb4d3d"})]}):Object(h.jsxs)(i.default,{children:[Object(h.jsx)(o.default,{children:"Vahvistusviestin l\xe4hetys:"}),Object(h.jsx)(c.default,{title:"T\xe4st\xe4",onPress:function(){return Object(O.sendEmailVerification)(T.currentUser)}})]})]})}var V=n(193),K=n(192);function R(e){var t=e.navigation,n=b.a.useState(""),a=r()(n,2),l=a[0],u=a[1],d=b.a.useState(""),j=r()(d,2),x=j[0],g=j[1],p=b.a.useState(""),v=r()(p,2),C=v[0],S=v[1];return Object(h.jsxs)(i.default,{style:f.container,children:[Object(h.jsx)(o.default,{style:f.errorText,children:C}),Object(h.jsx)(s.default,{style:[f.textInput,f.darkTextInput],placeholder:"Nykyinen salasana",value:x,secureTextEntry:!0,onChangeText:g}),Object(h.jsx)(s.default,{style:[f.textInput,f.darkTextInput],placeholder:"Uusi salasana",value:l,secureTextEntry:!0,onChangeText:u}),Object(h.jsx)(c.default,{title:"P\xe4ivit\xe4 salasana",onPress:function(){Object(O.signInWithEmailAndPassword)(T,T.currentUser.email,x).then((function(e){var t=e.user;Object(O.updatePassword)(t,l).then((function(){u(""),S(""),g("")})).catch((function(e){S(e.message)}))})).catch((function(e){S(e.message)}))}}),Object(h.jsx)(c.default,{title:"Poista k\xe4ytt\xe4j\xe4tili",onPress:function(){""===x?S("Must enter current password to delete account"):Object(O.signInWithEmailAndPassword)(T,T.currentUser.email,x).then((function(e){var n=e.user,a=Object(y.writeBatch)(m),r=Object(y.query)(Object(y.collection)(m,"todos"),Object(y.where)("userId","==",n.uid));Object(y.getDocs)(r).then((function(e){e.forEach((function(e){a.delete(e.ref)})),a.commit(),Object(O.deleteUser)(n).then((function(){t.popToTop()})).catch((function(e){S(e.message)}))}))})).catch((function(e){S(e.message)}))}}),Object(h.jsx)(c.default,{title:"Kirjaudu ulos",onPress:function(){Object(O.signOut)(T).then((function(){t.popToTop()}))}}),Object(h.jsx)(c.default,{title:"Takaisin valikkoon",onPress:function(){return t.pop()}})]})}var J=Object(K.default)();function z(){return Object(h.jsx)(V.default,{children:Object(h.jsxs)(J.Navigator,{children:[Object(h.jsx)(J.Screen,{name:"Login",component:v,options:{headerShown:!1}}),Object(h.jsx)(J.Screen,{name:"SignUp",component:C,options:{headerShown:!1}}),Object(h.jsx)(J.Screen,{name:"ResetPassword",component:S,options:{headerShown:!1}}),Object(h.jsx)(J.Screen,{name:"ManageAccount",component:R,options:{headerShown:!1}}),Object(h.jsx)(J.Screen,{name:"ToDo",component:F,options:{headerShown:!1}})]})})}},147:function(e,t,n){e.exports=n(184)},94:function(e,t,n){e.exports=n.p+"static/media/background.7399f3ff.jpg"}},[[147,1,2]]]);
//# sourceMappingURL=app.3d1c56f7.chunk.js.map